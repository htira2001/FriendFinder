<!DOCTYPE html>

<html>

<head>

    <meta charset="utf-8" />

    <title>Friend Finder</title>


<!-- Compiled and minified CSS -->

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">


<!-- Compiled and minified JavaScript -->

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

<!-- Font Awesome Icons -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- jQuery -->

<script src="https://code.jquery.com/jquery.js"></script>

<!-- Google Fonts -->

<link href="https://fonts.googleapis.com/css?family=Arvo" rel="stylesheet">

<!-- Compiled and minified Materialize JavaScript -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>

<!-- Compiled and minified CSS -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">

<!-- Link to Materialize Icons -->

<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

</head>

<body>

<div class = container>

    <h2>Survey Questions</h2>

    <hr>

    <h3><strong>About You</strong></h3>

    <hr>

    <h4>Name (*)</h4>

    <input type ="text" id = "name" class = "form-control">

    <br>

    <h4>Link to Photo Image (*)</h4>

    <input type ="text" id = "photo" class = "form-control">

    <hr>

    <div class="form-group">

        <h3><strong>Question 1</strong></h3>

        <h4>Dinner is your favorite meal of day</h4>

            <select class="form-control" id="question1">

              <option>Select an Option</option>  

              <option>1 (Strongly Disagree)</option>

              <option>2</option>

              <option>3 (Neutral)</option>

              <option>4</option>

              <option>5 (Strongly Agree)</option>

            </select>

    </div>
    <div class="form-group">

        <h3><strong>Question 2</strong></h3>

        <h4>mickael jordan is your best basketball player of all time</h4>

            <select class="form-control" id="question2">

              <option>Select an Option</option>  

              <option>1 (Strongly Disagree)</option>

              <option>2</option>

              <option>3 (Neutral)</option>

              <option>4</option>

              <option>5 (Strongly Agree)</option>

            </select>

    </div>
    <div class="form-group">

        <h3><strong>Question 3</strong></h3>

        <h4></h4>

            <select class="form-control" id="question2">

              <option>Select an Option</option>  

              <option>1 (Strongly Disagree)</option>

              <option>2</option>

              <option>3 (Neutral)</option>

              <option>4</option>

              <option>5 (Strongly Agree)</option>

            </select>

    </div>
    <div class="form-group">

        <h3><strong>Question 4</strong></h3>

        <h4></h4>

            <select class="form-control" id="question2">

              <option>Select an Option</option>  

              <option>1 (Strongly Disagree)</option>

              <option>2</option>

              <option>3 (Neutral)</option>

              <option>4</option>

              <option>5 (Strongly Agree)</option>

            </select>

    </div>
    <div class="form-group">

        <h3><strong>Question 5</strong></h3>

        <h4></h4>

            <select class="form-control" id="question2">

              <option>Select an Option</option>  

              <option>1 (Strongly Disagree)</option>

              <option>2</option>

              <option>3 (Neutral)</option>

              <option>4</option>

              <option>5 (Strongly Agree)</option>

            </select>

    </div>
    <div class="form-group">

        <h3><strong>Question 6</strong></h3>

        <h4></h4>

            <select class="form-control" id="question2">

              <option>Select an Option</option>  

              <option>1 (Strongly Disagree)</option>

              <option>2</option>

              <option>3 (Neutral)</option>

              <option>4</option>

              <option>5 (Strongly Agree)</option>

            </select>

    </div>
    <div class="form-group">

        <h3><strong>Question 7</strong></h3>

        <h4></h4>

            <select class="form-control" id="question2">

              <option>Select an Option</option>  

              <option>1 (Strongly Disagree)</option>

              <option>2</option>

              <option>3 (Neutral)</option>

              <option>4</option>

              <option>5 (Strongly Agree)</option>

            </select>

    </div>
    <div class="form-group">

        <h3><strong>Question 8</strong></h3>

        <h4></h4>

            <select class="form-control" id="question2">

              <option>Select an Option</option>  

              <option>1 (Strongly Disagree)</option>

              <option>2</option>

              <option>3 (Neutral)</option>

              <option>4</option>

              <option>5 (Strongly Agree)</option>

            </select>

    </div>
    <div class="form-group">

        <h3><strong>Question 9</strong></h3>

        <h4></h4>

            <select class="form-control" id="question2">

              <option>Select an Option</option>  

              <option>1 (Strongly Disagree)</option>

              <option>2</option>

              <option>3 (Neutral)</option>

              <option>4</option>

              <option>5 (Strongly Agree)</option>

            </select>

    </div>
    <div class="form-group">

        <h3><strong>Question 10</strong></h3>

        <h4></h4>

            <select class="form-control" id="question2">

              <option>Select an Option</option>  

              <option>1 (Strongly Disagree)</option>

              <option>2</option>

              <option>3 (Neutral)</option>

              <option>4</option>

              <option>5 (Strongly Agree)</option>

            </select>

    </div>

    <!-- Modal Dialog Displaying Closest Friend Match -->

<div id="modal1" class="modal">

  <div class="modal-content">

      <p>Your closest match is: </p>

      <div class="divider"></div>

      <h4 id="userMatchName"></h4>

      <img id="userMatchImage" class="materialboxed" width="650" src="">

  </div>

  <div class="modal-footer">

      <a href="/survey" class="modal-action modal-close waves-effect waves-green btn-flat">Fill Again!</a>

  </div>

</div>

<script type="text/javascript">

  $(document).ready(function () {

      $("select").material_select();

      $('select').material_select('destroy'); 

      $("select[required]").css({

          display: "inline",

          height: 0,

          padding: 0,

          width: 0

      });

$('.modal').modal({

          dismissible: false, // Modal can be dismissed by clicking outside of the modal

          opacity: .5, 

          inDuration: 300, 

          outDuration: 200, 

          startingTop: '4%', 

          endingTop: '10%' 

      });

// Activate submit button

      $("#submitButton").on("click", function (event) {

          event.preventDefault();



          // Gather user inputs

          var userInput = {

              name: $('#name').val().trim(),

              photo: $('#photo').val().trim(),

              scores: [

                  $('#question1').val().trim(),

                  $('#question2').val().trim(),

                  $('#question3').val().trim(),

                  $('#question4').val().trim(),

                  $('#question5').val().trim(),

                  $('#question6').val().trim(),

                  $('#question7').val().trim(),

                  $('#question8').val().trim(),

                  $('#question9').val().trim(),

                  $('#question10').val().trim()

              ]

          };

          console.log("User Input: ", userInput);

          // Add user inputs to friends list

          $.post("/api/friends", userInput)

              .done(function (data) {

                  $('#userMatchName').html(data.matchName);

                  $("#userMatchImage").attr("src", "./images/" + data.matchImage);

                  $('#modal1').modal('open');

              });

      });

  });

</script>

</body>

</html>
